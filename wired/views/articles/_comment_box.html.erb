<% form_remote_tag :url      => @article.comment_url,
                    :position => :bottom,
                    :update   => {:success => 'commentList'},
                    :loading  => "loading()",
                    :complete => "complete(request)",
                    :failure  => "failure(request)",
                    :html     => {:id => 'commentform', :class => 'comments' } \
    do %>


<div class="comment-box">
  <div id="errors"></div>

  <a name="respond"></a>
  
  <table cellpadding="0" cellspacing="0" class="frm-tbl">
    <tr>
      <td width="100"><label for="comment_author">Your name</label></td>
      <td width="350" id="guest_author">
          <%= link_to_function(image_tag('../../images/theme/main-comment-email.gif', options={:alt => 'Include your email'}), "Element.toggle('guest_email'); Wired.toggle(0)") %>
          <%= link_to_function(image_tag('../../images/theme/main-comment-url.gif', options={:alt => 'Link your blog'}), "Element.toggle('guest_url'); Wired.toggle(1)") %>
          <%= text_field "comment", "author", :size => 20 %>
      </td>
    </tr>
    <tr id="guest_url" style="display: none;">
      <td><label for="comment_url">Your blog</label></td>
      <td><%= text_field "comment", "url" %></td>
    </tr>
    <tr id="guest_email" style="display: none;">
      <td><label for="comment_email">Your email</label></td>
      <td><%= text_field "comment", "email" %></td>
    </tr>
    <tr>
      <td valign="top"><label for="comment_body">Your message</label></td>
      <td><%= text_area "comment", "body" %></td>
    </tr>
    <tr>
      <td></td>
      <td>
          <div id="frm-btns"><%= image_tag("../../images/theme/main-spinner.gif", options={:id => 'comment_loading', :style => 'display: none;'}) %></div>
          <input type="submit" name="submit" id="form-submit-button" value="submit" class="button" />
      </td>
    </tr>
  </table>
</div>
<% end %>
